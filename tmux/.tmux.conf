#
## remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

#
## split panes using | and -
unbind '"'
unbind %
bind | split-window -h
bind - split-window -v

#
## reload config file (change file location to your the tmux.conf you want to use)
bind r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"

#
## switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

#
## Copy-paste
bind P paste-buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle

#
## Enable mouse mode (tmux 2.1 and above)
set -g mouse on

##########################
### LOOK AND FEEL TMUX ###
##########################

## STATUS
set -g status-position bottom
set -g status on
set -g status-interval 5
set -g status-style "fg=white, bg=black"

## Center
set -g window-status-format " #[fg=black,bg=brightblack] #I #W "
set -g window-status-current-format " #[fg=black,bg=white, bold] #I #W "
set -g window-status-separator "#[fg=#0e0e2c,bg=#0e0e2c]"
set -g status-justify centre

## Left
set -g status-left-length 20
set -g status-left "#[fg=black,bg=white, bold]   #(whoami) #[fg=black, bg=white]"

## Right "#[fg=white, bg=black, bold]  "
set -g status-right-length 40
set -g status-right "#{prefix_highlight} #[fg=black,bg=white, bold]   #(lsb_release -d | cut -f 2) "

## PANEL
set -g pane-border-status top
set -g pane-border-style "fg=brightblack, bg=black"
set -ag pane-active-border-style "fg=white, bg=black, bold"
set -g pane-border-format "#[fg=black,bg=white] #{pane_current_command} "
set -g pane-base-index 1
set -g main-pane-width 1
set -g main-pane-height 1
set -g other-pane-width 1
set -g other-pane-height 1

## WINDOW
set -g base-index 1
set -g renumber-windows on
setw -g automatic-rename on
setw -g window-style "fg=brightwhite bg=black"
setw -g window-active-style "fg=brightwhite bg=black"

## S'OTHER
set -g set-titles on
set -g set-titles-string "#{pane_current_command}"
setw -g allow-rename on
setw -g mode-style "fg=black, bg=white"
set -g default-terminal "screen-256color"

## Clock mode
set -g clock-mode-colour white
set -g clock-mode-style 12

## Message
set -g message-style "fg=black, bg=yellow"

####################
### PLUGINS TMUX ###
####################

#
## List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'

#
## Plugins Configuration

# tmux-resurrect
set -g @resurrect-processes ':all:'

# yank
set -g @shell_mode 'vi'
set -g @yank_with_mouse on
set -g @yank_selection_mouse 'clipboard'

# tmux-prefix_highlight
set -g @prefix_highlight_fg 'black, bold'
set -g @prefix_highlight_bg 'white'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr 'fg=black,bg=white,bold' # default is 'fg=default,bg=yellow'
set -g @prefix_highlight_show_sync_mode 'on'
set -g @prefix_highlight_sync_mode_attr 'fg=black,bg=white' # default is 'fg=default,bg=yellow'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
